<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StreamSaver Pro | HD</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-black text-white flex items-center justify-center min-h-screen">
    <div class="p-8 bg-gray-900 rounded-3xl w-full max-w-lg border border-gray-800">
        <h1 class="text-3xl font-black text-center mb-8">STREAMSAVER <span class="text-red-600">PRO</span></h1>
        
        <div class="flex flex-col gap-4">
            <input id="url" type="text" placeholder="Paste link here..." class="w-full p-4 rounded-xl bg-gray-800 border border-gray-700 outline-none">
            <button onclick="analyze()" class="bg-red-600 p-4 rounded-xl font-bold hover:bg-red-700 transition">GENERATE LINKS</button>
        </div>

        <div id="loader" class="hidden text-center mt-6 text-gray-400 animate-pulse">Processing... Please Wait</div>

        <div id="options" class="hidden mt-8 space-y-4">
            <button onclick="dl('mp4')" class="w-full bg-white text-black p-4 rounded-xl font-bold">Download Video (MP4)</button>
            <button onclick="dl('mp3')" class="w-full border border-gray-700 p-4 rounded-xl font-bold">Download Audio (MP3)</button>
        </div>
    </div>

    <script>
        const API = "https://ytdownloader-pro.onrender.com"; // ðŸ‘ˆ Apna Render URL check karo
        let vId = "";

        function analyze() {
            const input = document.getElementById('url').value;
            const match = input.match(/(?:v=|youtu\.be\/|shorts\/)([a-zA-Z0-9_-]{11})/);
            if(match) {
                vId = match[1];
                document.getElementById('loader').classList.remove('hidden');
                // Chhota sa delay to simulate processing
                setTimeout(() => {
                    document.getElementById('loader').classList.add('hidden');
                    document.getElementById('options').classList.remove('hidden');
                }, 1000);
            } else {
                alert("Invalid Link!");
            }
        }

        function dl(t) {
            window.location.href = `${API}/download?videoId=${vId}&type=${t}`;
        }
    </script>
</body>
</html>
