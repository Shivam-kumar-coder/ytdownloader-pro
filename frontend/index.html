<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StreamSaver Pro | No-Limit Downloader</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { background: #050505; color: white; font-family: 'Inter', sans-serif; }
        .card { background: #111; border: 1px solid #222; border-radius: 24px; }
        .download-btn { background: linear-gradient(90deg, #ff0000, #cc0000); }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <div class="max-w-md w-full card p-8 text-center shadow-2xl">
        <h1 class="text-3xl font-black mb-2 tracking-tighter text-red-600">STREAMSAVER PRO</h1>
        <p class="text-gray-500 text-xs mb-8 uppercase font-bold tracking-widest">Stable Engine v2.0</p>

        <input id="videoLink" type="text" placeholder="Paste YouTube/Shorts Link" 
               class="w-full bg-black border border-gray-800 p-4 rounded-xl mb-4 outline-none focus:border-red-600 transition">
        
        <button onclick="getLinks()" id="mainBtn" class="w-full download-btn p-4 rounded-xl font-bold text-lg mb-6 active:scale-95 transition">
            GENERATE LINKS
        </button>

        <div id="results" class="hidden space-y-3">
            <div id="loading" class="text-red-500 font-bold animate-pulse mb-4 italic text-sm">Fetching HD Streams...</div>
            <iframe id="dl_iframe" style="width:100%;height:60px;border:none;overflow:hidden;" scrolling="no"></iframe>
            <p class="text-[10px] text-gray-600 mt-4 italic">Note: If popup opens, close it and stay on this page.</p>
        </div>
    </div>

    <script>
        function getLinks() {
            const link = document.getElementById('videoLink').value.trim();
            if (!link.includes('youtube.com') && !link.includes('youtu.be')) {
                alert("Please paste a valid YouTube link!");
                return;
            }

            // Extract Video ID
            const vidMatch = link.match(/(?:v=|youtu\.be\/|shorts\/)([a-zA-Z0-9_-]{11})/);
            if (!vidMatch) return alert("Link Error!");
            const vidId = vidMatch[1];

            // Show results UI
            document.getElementById('results').classList.remove('hidden');
            document.getElementById('mainBtn').innerHTML = "Ready! <i class='fas fa-check'></i>";
            document.getElementById('mainBtn').classList.add('opacity-50', 'pointer-events-none');

            // Use Stable Third-Party Engine Iframe (This is what big sites use)
            // It bypasses YouTube's bot detection because it uses a massive proxy network
            const dlFrame = document.getElementById('dl_iframe');
            dlFrame.src = `https://loader.to/api/button/?url=${encodeURIComponent(link)}&f=720&color=ff0000`;
        }
    </script>
</body>
</html>
